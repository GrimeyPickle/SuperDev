!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){return o(e[i][1][r]||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){const allFeatures=[{title:"Text Editor",icon:"fa-pencil",id:"textEditor",settings:{}},{title:"Page Ruler",icon:"fa-ruler-combined",id:"pageRuler",settings:{}},{title:"Color Picker",icon:"fa-eye-dropper",id:"colorPicker",settings:{checkboxColorPicker1:!0,checkboxColorPicker2:!1,checkboxColorPicker3:!1}},{title:"Color Palette",icon:"fa-swatchbook",id:"colorPalette",settings:{checkboxColorPalette1:!0,checkboxColorPalette2:!1,checkboxColorPalette3:!1}},{title:"Page Guideline",icon:"fa-hashtag",id:"pageGuideline",settings:{}},{title:"Page Highlight",icon:"fa-paintbrush",id:"pageHighlight",settings:{checkboxPageHighlight1:!1,checkboxPageHighlight2:!0,checkboxPageHighlight3:!1,checkboxPageHighlight4:!1,checkboxPageHighlight5:!1,checkboxPageHighlight6:!1,checkboxPageHighlight7:!1}},{title:"Move Element",icon:"fa-arrows-up-down-left-right",id:"moveElement",settings:{}},{title:"Delete Element",icon:"fa-trash-can",id:"deleteElement",settings:{}},{title:"Export Element",icon:"fa-up-right-from-square",id:"exportElement",settings:{checkboxExportElement1:!0,checkboxExportElement2:!1,checkboxExportElement3:!1}},{title:"Clear All Cache",icon:"fa-recycle",id:"clearAllCache",settings:{checkboxClearAllCache1:!1,checkboxClearAllCache2:!0,checkboxClearAllCache3:!1,checkboxClearAllCache4:!1,checkboxClearAllCache5:!1,checkboxClearAllCache6:!1}}];chrome.runtime.onInstalled.addListener((function(reason){chrome.tabs.query({},(function(result){result.forEach((function(valueTwo,indexTwo){!valueTwo.url.startsWith("http://")&&!valueTwo.url.startsWith("https://")||valueTwo.url.includes("https://chrome.google.com/webstore")||(chrome.scripting.executeScript({target:{tabId:valueTwo.id},files:["libs/js/jquery.min.js","libs/js/jquery-ui.min.js","libs/js/beautify.min.js","libs/js/beautify-css.min.js","libs/js/beautify-html.min.js","js/cs.js"]}),chrome.scripting.insertCSS({target:{tabId:valueTwo.id},files:["css/cs.css"]}))}))})),chrome.storage.local.get(["allFeatures"],(async function(result){void 0===result.allFeatures&&await chrome.storage.local.set({allFeatures:JSON.stringify(allFeatures)})})),chrome.storage.local.get(["extVersion"],(async function(result){void 0===result.extVersion&&await chrome.storage.local.set({extVersion:chrome.runtime.getManifest().version})})),chrome.storage.local.get(["allFeaturesRef"],(async function(result){void 0===result.allFeaturesRef&&await chrome.storage.local.set({allFeaturesRef:JSON.stringify(allFeatures)})})),chrome.storage.local.get(["extVersion"],(function(result){void 0!==result.extVersion&&result.extVersion!==chrome.runtime.getManifest().version&&chrome.storage.local.get(["allFeatures"],(async function(result){let localAllFeatures=allFeatures,storedAllFeatures=JSON.parse(result.allFeatures);localAllFeatures.forEach((function(value,index){-1===storedAllFeatures.indexOf(value)&&storedAllFeatures.splice(index,0,value)})),storedAllFeatures=storedAllFeatures.filter((function(value,index){return-1===localAllFeatures.indexOf(value)&&(value=null),null!==value})),localAllFeatures.forEach((function(valueOne,indexOne){storedAllFeatures.forEach((function(valueTwo,indexTwo){valueOne.id===valueTwo.id&&(valueOne.icon!==valueTwo.icon&&(valueTwo.icon=valueOne.icon),0===Object.keys(valueOne.settings).length&&0!==Object.keys(valueTwo.settings).length&&(valueTwo.settings=valueOne.settings),0!==Object.keys(valueOne.settings).length&&0===Object.keys(valueTwo.settings).length&&(valueTwo.settings=valueOne.settings),0!==Object.keys(valueOne.settings).length&&0!==Object.keys(valueTwo.settings).length&&(Object.keys(valueOne.settings).forEach((function(valueThree,indexThree){void 0===valueTwo.settings[valueThree]&&(valueTwo.settings[valueThree]=valueOne.settings[valueThree])})),Object.keys(valueTwo.settings).forEach((function(valueThree,indexThree){void 0===valueOne.settings[valueThree]&&delete valueTwo.settings[valueThree]}))))}))})),await chrome.storage.local.set({allFeatures:JSON.stringify(storedAllFeatures)}),await chrome.storage.local.set({extVersion:chrome.runtime.getManifest().version}),await chrome.storage.local.set({allFeaturesRef:JSON.stringify(allFeatures)})}))})),chrome.contextMenus.create({title:"Inspect with SuperDev",id:"inspectWith",contexts:["all"]})})),chrome.management.onEnabled.addListener((function(extension){extension.name===chrome.runtime.getManifest().name&&chrome.tabs.query({},(function(result){result.forEach((function(valueTwo,indexTwo){!valueTwo.url.startsWith("http://")&&!valueTwo.url.startsWith("https://")||valueTwo.url.includes("https://chrome.google.com/webstore")||(chrome.scripting.executeScript({target:{tabId:valueTwo.id},files:["libs/js/jquery.min.js","libs/js/jquery-ui.min.js","libs/js/beautify.min.js","libs/js/beautify-css.min.js","libs/js/beautify-html.min.js","js/cs.js"]}),chrome.scripting.insertCSS({target:{tabId:valueTwo.id},files:["css/cs.css"]}))}))}))})),chrome.action.onClicked.addListener((function(tab){chrome.tabs.query({active:!0,currentWindow:!0},(function(activeTab){!activeTab[0].url.startsWith("http://")&&!activeTab[0].url.startsWith("https://")||activeTab[0].url.includes("https://chrome.google.com/webstore")||(chrome.storage.local.get(["allFeatures"],(async function(result){if(void 0===result.allFeatures)await chrome.storage.local.set({allFeatures:JSON.stringify(allFeatures)});else{chrome.tabs.connect(activeTab[0].id,{name:"portOne"}).postMessage({action:"showHideExtension",activeTab:activeTab})}})),chrome.storage.local.get(["extVersion"],(async function(result){void 0===result.extVersion&&await chrome.storage.local.set({extVersion:chrome.runtime.getManifest().version})})),chrome.storage.local.get(["allFeaturesRef"],(async function(result){void 0===result.allFeaturesRef&&await chrome.storage.local.set({allFeaturesRef:JSON.stringify(allFeatures)})})))}))})),chrome.contextMenus.onClicked.addListener((function(tab){chrome.tabs.query({active:!0,currentWindow:!0},(function(activeTab){!activeTab[0].url.startsWith("http://")&&!activeTab[0].url.startsWith("https://")||activeTab[0].url.includes("https://chrome.google.com/webstore")||(chrome.storage.local.get(["allFeatures"],(async function(result){if(void 0===result.allFeatures)await chrome.storage.local.set({allFeatures:JSON.stringify(allFeatures)});else{chrome.tabs.connect(activeTab[0].id,{name:"portOne"}).postMessage({action:"showHideExtension",activeTab:activeTab})}})),chrome.storage.local.get(["extVersion"],(async function(result){void 0===result.extVersion&&await chrome.storage.local.set({extVersion:chrome.runtime.getManifest().version})})),chrome.storage.local.get(["allFeaturesRef"],(async function(result){void 0===result.allFeaturesRef&&await chrome.storage.local.set({allFeaturesRef:JSON.stringify(allFeatures)})})))}))})),chrome.commands.onCommand.addListener((function(command){chrome.tabs.query({active:!0,currentWindow:!0},(function(activeTab){if((activeTab[0].url.startsWith("http://")||activeTab[0].url.startsWith("https://"))&&!activeTab[0].url.includes("https://chrome.google.com/webstore")&&"clearAllCache"===command){chrome.tabs.connect(activeTab[0].id,{name:"portOne"}).postMessage({action:"activateClearAllCache",activeTab:activeTab})}}))})),chrome.runtime.onConnect.addListener((function(port){let imageData,data,width,height;function getLightnessAt(data,x,y){return inBoundaries(x,y)?data[y*width+x]:-1}function inBoundaries(x,y){return x>=0&&x<width&&y>=0&&y<height}function rgbToHex(r,g,b){return("#"+((1<<24)+(+r<<16)+(+g<<8)+ +b).toString(16).slice(1)).toUpperCase()}port.onMessage.addListener((function(request){switch(request.action){case"takeScreenshot":chrome.tabs.captureVisibleTab({format:"png"},(function(dataUrl){port.postMessage({action:"parseScreenshot",dataUrl:dataUrl})}));break;case"toGrayscale":imageData=new Uint8ClampedArray(request.imageData),data=function(imageData){let gray=new Int16Array(imageData.length/4);for(let i=0,n=0,l=imageData.length;i<l;i+=4,n++){let r=imageData[i],g=imageData[i+1],b=imageData[i+2];gray[n]=Math.round(.3*r+.59*g+.11*b)}return gray}(imageData),width=request.width,height=request.height,port.postMessage({action:"screenshotProcessed"});break;case"measureDistances":!function(input){let lastLightness,dimensions={top:0,right:0,bottom:0,left:0},directions={top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},area=0,startLightness=getLightnessAt(data,input.x,input.y);for(let direction in dimensions){let currentLightness,vector=directions[direction],boundaryFound=!1,sx=input.x,sy=input.y;for(lastLightness=startLightness;!boundaryFound;)sx+=vector.x,sy+=vector.y,currentLightness=getLightnessAt(data,sx,sy),currentLightness>-1&&Math.abs(currentLightness-lastLightness)<6?(dimensions[direction]++,lastLightness=currentLightness):boundaryFound=!0;area+=dimensions[direction]}if(area<=6){dimensions={top:0,right:0,bottom:0,left:0};let similarColorStreakThreshold=8;for(let direction in dimensions){let currentLightness,vector=directions[direction],boundaryFound=!1,sx=input.x,sy=input.y,similarColorStreak=0;for(lastLightness=startLightness;!boundaryFound;)sx+=vector.x,sy+=vector.y,currentLightness=getLightnessAt(data,sx,sy),currentLightness>-1?(dimensions[direction]++,Math.abs(currentLightness-lastLightness)<6?(similarColorStreak++,similarColorStreak===similarColorStreakThreshold&&(dimensions[direction]-=similarColorStreakThreshold+1,boundaryFound=!0)):(lastLightness=currentLightness,similarColorStreak=0)):boundaryFound=!0}}dimensions.x=input.x,dimensions.y=input.y,port.postMessage({action:"showDimensions",data:dimensions})}(request.data);break;case"setColorPicker":imageData=new Uint8ClampedArray(request.imageData),width=request.width,height=request.height,port.postMessage({action:"colorPickerSet"});break;case"getColorAt":!function(input){if(!inBoundaries(input.x,input.y))return-1;let i=input.y*width*4+4*input.x,r=imageData[i],g=imageData[i+1],b=imageData[i+2],spotColor={x:input.x,y:input.y,rgb:`rgb(${r}, ${g}, ${b})`,hex:rgbToHex(r,g,b)};port.postMessage({action:"showColorPicker",data:spotColor})}(request.data);break;case"fetchStyles":!function(allStyleSheets){let promiseAllOne=[],promiseAllTwo=[],regexZero=new RegExp(/url\(['"]?(.*?)['"]?\)/gm),regexSix=new RegExp(/\\/gm),regexSeven=new RegExp(/\/[^/]*$/gm),regexEight=new RegExp(/@import url\(['"]?(.*?)['"]?\).*?;/gm),regexNine=new RegExp(/@import ['"](.*?)['"].*?;/gm);allStyleSheets.forEach((async function(valueOne,indexOne){(valueOne.startsWith("http://")||valueOne.startsWith("https://"))&&promiseAllOne.push(fetch(valueOne).then((function(response){return response.status>=200&&response.status<300?response.text():""})).then((function(data){if(allStyleSheets[indexOne]=data,allStyleSheets[indexOne].includes("url(")){[...allStyleSheets[indexOne].matchAll(regexZero)].forEach((function(valueTwo,indexTwo){valueTwo[1].replaceAll(regexSix,"").startsWith("//")||valueTwo[1].replaceAll(regexSix,"").startsWith("blob:")||valueTwo[1].replaceAll(regexSix,"").startsWith("data:")||valueTwo[1].replaceAll(regexSix,"").startsWith("http://")||valueTwo[1].replaceAll(regexSix,"").startsWith("https://")?valueTwo[1].replaceAll(regexSix,"").startsWith("//")&&(allStyleSheets[indexOne]=allStyleSheets[indexOne].replaceAll(valueTwo[0],valueTwo[0].replaceAll(valueTwo[1],new URL("https:"+valueTwo[1]).href))):valueTwo[1].startsWith("/")?allStyleSheets[indexOne]=allStyleSheets[indexOne].replaceAll(valueTwo[0],valueTwo[0].replaceAll(valueTwo[1],new URL(new URL(valueOne).origin+valueTwo[1]).href)):allStyleSheets[indexOne]=allStyleSheets[indexOne].replaceAll(valueTwo[0],valueTwo[0].replaceAll(valueTwo[1],new URL(valueOne.replaceAll(regexSeven,"")+"/"+valueTwo[1]).href))}))}})))})),Promise.all(promiseAllOne).then((function(){let matchImportURLsOne=[...(allStyleSheets=allStyleSheets.filter((function(value,index){return null!=value&&""!==value})).join("")).matchAll(regexEight)],matchImportURLsTwo=[...allStyleSheets.matchAll(regexNine)];[...new Set(matchImportURLsOne.concat(matchImportURLsTwo))].forEach((function(valueOne,indexTwo){(valueOne[1].replaceAll(regexSix,"").startsWith("http://")||valueOne[1].replaceAll(regexSix,"").startsWith("https://"))&&promiseAllTwo.push(fetch(valueOne[1]).then((function(response){return response.status>=200&&response.status<300?response.text():""})).then((function(data){allStyleSheets=allStyleSheets.replaceAll(valueOne[0],data)})))})),Promise.all(promiseAllTwo).then((function(){port.postMessage({action:"allStyleSheets",allStyleSheets:allStyleSheets})}))}))}(request.allStyleSheets);break;case"clearAllCache":settings=request.settings,chrome.tabs.query({active:!0,currentWindow:!0},(function(activeTab){chrome.browsingData.remove({origins:[activeTab[0].url]},{cookies:settings.checkboxClearAllCache3,localStorage:settings.checkboxClearAllCache5},(function(){chrome.browsingData.remove({},{cache:settings.checkboxClearAllCache2,formData:settings.checkboxClearAllCache4},(function(){!0===settings.checkboxClearAllCache1&&chrome.tabs.reload(activeTab[0].id)}))}))}))}var settings}))}))},{}]},{},[1]);
